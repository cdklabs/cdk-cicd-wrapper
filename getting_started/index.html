
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="CDK CI/CD Wrapper">
      
      
      
        <link rel="canonical" href="https://github.com/cdklabs/cdk-cicd-wrapper/getting_started/index.html">
      
      
        <link rel="prev" href="../overview/index.html">
      
      
        <link rel="next" href="migration_guide.html">
      
      
      <link rel="icon" href="../assets/images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Getting Started with the CDK CI/CD Wrapper - CDK CI/CD Wrapper</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started-with-the-cdk-cicd-wrapper" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="CDK CI/CD Wrapper" class="md-header__button md-logo" aria-label="CDK CI/CD Wrapper" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CDK CI/CD Wrapper
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started with the CDK CI/CD Wrapper
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/cdklabs/cdk-cicd-wrapper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    cdklabs/cdk-cicd-wrapper
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../overview/index.html" class="md-tabs__link">
          
  
    
  
  Overview

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="index.html" class="md-tabs__link">
          
  
    
  
  Getting started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../developer_guides/index.html" class="md-tabs__link">
          
  
    
  
  Developer Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../cli/index.html" class="md-tabs__link">
          
  
    
  
  CLI Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../faqs/index.html" class="md-tabs__link">
          
  
    
  
  FAQs

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../contributing/index.html" class="md-tabs__link">
          
  
    
  
  Contributing

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../workshops/index.html" class="md-tabs__link">
          
  
    
  
  Workshops

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/cdklabs/cdk-cicd-wrapper/releases" class="md-tabs__link">
        
  
    
  
  Release notes

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="CDK CI/CD Wrapper" class="md-nav__button md-logo" aria-label="CDK CI/CD Wrapper" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    CDK CI/CD Wrapper
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cdklabs/cdk-cicd-wrapper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    cdklabs/cdk-cicd-wrapper
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../overview/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Overview
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="migration_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migration Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="projen.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CDK CI/CD Wrapper with Projen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="projen_with_taskfile.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CDK CI/CD Wrapper with Projen and Taskfile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="prerequisites.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../developer_guides/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Developer Guides
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developer Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/variables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/ci.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Continuous Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/cd.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Continuous Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Resources
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/global_resource.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Global Resources
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/modularizing_stacks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modularizing Stacks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/cdk_context.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CDK Context
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/security.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python Dependencies
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            Python Dependencies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/codeartifact.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS CodeArtifact
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/python_dependencies.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Working with Python dependencies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
        
          
          <label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NPM Dependencies
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            NPM Dependencies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/codeartifact.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS CodeArtifact
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/private_npm_registry.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Private NPM Registry
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_11" >
        
          
          <label class="md-nav__link" for="__nav_3_11" id="__nav_3_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GIT Integrations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11">
            <span class="md-nav__icon md-icon"></span>
            GIT Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/vcs_codecommit.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CodeCommit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/vcs_github.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/networking.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../cli/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    CLI Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            CLI Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cli_configure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure projects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cli_license.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License Checking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cli_validate.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cli_security_scan.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security Scanning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cli_check_dependencies.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dependency Scanning
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../faqs/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    FAQs
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            FAQs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../contributing/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../workshops/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Workshops
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Workshops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../workshops/basics-lvl300/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    GenerativeAI Image Generation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            GenerativeAI Image Generation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/00-prerequisites.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/01-create-cdk-project.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a CDK Project & Bootstrap the AWS Account
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/02-define-quality-gates-ci.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Define the Quality Gates and Continuous Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/03-create-pipeline.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating a Pipeline and Enabling GitOps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/04-develop-genai-solution.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Develop a GenAI Solution with CDK CI/CD Workbench
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/05-deploy-stack.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploy Stack with the Pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/06-develop-genai-solution-part-2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Develop a GenAI Solution with CDK CI/CD Workbench Part 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/07-deploy-solution.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploy the solution with the pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/08-summary.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/09-clean-up.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clean up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshops/basics-lvl300/faq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/cdklabs/cdk-cicd-wrapper/releases" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release notes
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-cdk-project" class="md-nav__link">
    <span class="md-ellipsis">
      New CDK project
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-local-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Setup Local Environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bootstrap-your-stages" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrap your stages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-gitignore" class="md-nav__link">
    <span class="md-ellipsis">
      Configure .gitignore
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#existing-cdk-project" class="md-nav__link">
    <span class="md-ellipsis">
      Existing CDK project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-continuous-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Continuous Integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-changes-with-gitops" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy Changes with GitOps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deploy Changes with GitOps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#push-the-local-repository-to-remote-codecommit" class="md-nav__link">
    <span class="md-ellipsis">
      Push the Local Repository to Remote (CodeCommit)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#push-the-local-repository-to-remote-github" class="md-nav__link">
    <span class="md-ellipsis">
      Push the Local Repository to Remote (GitHub)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="getting-started-with-the-cdk-cicd-wrapper">Getting Started with the CDK CI/CD Wrapper</h1>
<p>This guide gives you clear steps to set up and customize a Continuous Integration and Continuous Delivery (CI/CD) pipeline for your AWS CDK project. Following these steps will automate the build, testing, and delivery of your AWS CDK project, giving you a smooth workflow.</p>
<h2 id="overview">Overview</h2>
<p>The CI/CD pipeline simplifies your development process, making sure your project undergoes thorough testing and validation before moving to different stages like development, integration, or production. It utilizes AWS services like AWS CodePipeline, AWS CodeBuild, and AWS CodeCommit/GitHub to manage the entire workflow seamlessly.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before you begin, ensure that you have the following prerequisites in place:</p>
<ol>
<li><strong>AWS Accounts</strong>: You will need access to multiple AWS accounts for different deployment stages (e.g., development, integration, production). If you prefer, you can also use a single account setup.</li>
<li><strong>AWS CLI Profiles</strong>: Configure AWS CLI profiles with appropriate permissions for each AWS account you plan to use.</li>
<li><strong>jq Command Line JSON Processor</strong>: Install the <code>jq</code> command-line JSON processor (version 1.5 or later).</li>
<li><strong>Docker</strong>: Install Docker (version 24.0.x or later).</li>
<li><strong>Python and Pipenv</strong>: If you plan to develop Python Lambda functions, ensure that you have Python (version 3.11 or later) and Pipenv (version 2023 or later) installed.</li>
<li><strong>Version Control System (VCS)</strong>: The CI/CD pipeline provisions an AWS CodeCommit Git repository by default for hosting your project's source code. However, you can also choose to use your own GitHub repository.</li>
</ol>
<p>For more detailed information on prerequisites, refer to the <a href="prerequisites.html">Prerequisites</a> documentation.</p>
<p>Below we explain how to integrate the CDK CI/CD Wrapper into:
- <a href="#new-cdk-project">New CDK Project</a>
- <a href="#existing-cdk-project">Existing CDK Project</a></p>
<h3 id="new-cdk-project">New CDK project</h3>
<p>You can apply the CDK CI/CD Wrapper to any of your existing CDK projects enable the CI/CD around your solution. If you don't have an existing CDK project then you can create one as shown in this guide step-by-step:</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>my-project
<span class="nb">cd</span><span class="w"> </span>my-project
npx<span class="w"> </span>aws-cdk@latest<span class="w"> </span>init<span class="w"> </span>app<span class="w"> </span>--language<span class="w"> </span>typescript
</code></pre></div>
<h2 id="installation">Installation</h2>
<ol>
<li>Install the CDK CI/CD Wrapper pipeline package by running the following command:</li>
</ol>
<div class="highlight"><pre><span></span><code>npm<span class="w"> </span>i<span class="w"> </span>@cdklabs/cdk-cicd-wrapper<span class="w"> </span>@cdklabs/cdk-cicd-wrapper-cli
</code></pre></div>
<p><strong>Note</strong>: If the <code>@cdklabs</code> scope is not available from the public NPM registry, you will need to configure a <a href="../developer_guides/private_npm_registry.html">private NPM registry</a>.</p>
<h2 id="setup-local-environment">Setup Local Environment</h2>
<p>We suggest using the provided CLI tool to set up your local environment, as it simplifies the configuration process for the CI/CD pipeline. Simply follow these steps:</p>
<ol>
<li>
<p>Run the <code>npx @cdklabs/cdk-cicd-wrapper-cli@latest configure</code> command and follow the instructions.</p>
</li>
<li>
<p>After modifying the placeholders in the script,  source the variables:</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nb">source</span><span class="w"> </span>.env
</code></pre></div>
<p><strong>Note</strong>: The CLI Configure script supports the RES, DEV, INT, and PROD stages by default, but you can extend the list of stages as needed. If you plan to use a GitHub repository to host your project, you will need to know your <a href="../developer_guides/vcs_github.html">AWS CodeStar Connection ARN</a>.</p>
<h2 id="bootstrap-your-stages">Bootstrap your stages</h2>
<p>The CDK CI/CD Wrapper uses the AWS CDK Toolkit with a cross-account trust relationship to deploy to multiple AWS accounts. This bootstrapping process must be established for each stage, and each account must have a trust relationship with the RES account..</p>
<p>If you are reusing an existing CDK bootstrapping setup, you can skip this step. Otherwise, follow the instructions below to bootstrap your stages:</p>
<ol>
<li><strong>Prepare the RES stage</strong>:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nv">CDK_QUALIFIER</span><span class="o">=</span><span class="k">$(</span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.config.cdkQualifier&#39;</span><span class="w"> </span>package.json<span class="k">)</span>
npx<span class="w"> </span>dotenv-cli<span class="w"> </span>--<span class="w"> </span>npm<span class="w"> </span>run<span class="w"> </span>cdk<span class="w"> </span>bootstrap<span class="w"> </span>--<span class="w"> </span>--profile<span class="w"> </span><span class="nv">$RES_ACCOUNT_AWS_PROFILE</span><span class="w"> </span>--qualifier<span class="w"> </span><span class="si">${</span><span class="nv">CDK_QUALIFIER</span><span class="si">}</span><span class="w"> </span>aws://<span class="si">${</span><span class="nv">ACCOUNT_RES</span><span class="si">}</span>/<span class="si">${</span><span class="nv">AWS_REGION</span><span class="si">}</span>
</code></pre></div>
<ol>
<li><strong>Prepare the DEV stage</strong>:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nv">CDK_QUALIFIER</span><span class="o">=</span><span class="k">$(</span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.config.cdkQualifier&#39;</span><span class="w"> </span>package.json<span class="k">)</span>
npx<span class="w"> </span>dotenv-cli<span class="w"> </span>--<span class="w"> </span>npm<span class="w"> </span>run<span class="w"> </span>cdk<span class="w"> </span>bootstrap<span class="w"> </span>--<span class="w"> </span>--profile<span class="w"> </span><span class="nv">$DEV_ACCOUNT_AWS_PROFILE</span><span class="w">  </span>--qualifier<span class="w"> </span><span class="si">${</span><span class="nv">CDK_QUALIFIER</span><span class="si">}</span><span class="w"> </span>--cloudformation-execution-policies<span class="w"> </span><span class="se">\</span>
arn:aws:iam::aws:policy/AdministratorAccess<span class="w"> </span><span class="se">\</span>
--trust<span class="w"> </span><span class="si">${</span><span class="nv">ACCOUNT_RES</span><span class="si">}</span><span class="w"> </span>aws://<span class="si">${</span><span class="nv">ACCOUNT_DEV</span><span class="si">}</span>/<span class="si">${</span><span class="nv">AWS_REGION</span><span class="si">}</span>
</code></pre></div>
<ol>
<li><strong>Prepare the INT stage</strong>:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nv">CDK_QUALIFIER</span><span class="o">=</span><span class="k">$(</span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.config.cdkQualifier&#39;</span><span class="w"> </span>package.json<span class="k">)</span>
npx<span class="w"> </span>dotenv-cli<span class="w"> </span>--<span class="w"> </span>npm<span class="w"> </span>run<span class="w"> </span>cdk<span class="w"> </span>bootstrap<span class="w"> </span>--<span class="w"> </span>--profile<span class="w"> </span><span class="nv">$INT_ACCOUNT_AWS_PROFILE</span><span class="w"> </span>--qualifier<span class="w"> </span><span class="si">${</span><span class="nv">CDK_QUALIFIER</span><span class="si">}</span><span class="w"> </span>--cloudformation-execution-policies<span class="w"> </span><span class="se">\</span>
arn:aws:iam::aws:policy/AdministratorAccess<span class="w"> </span><span class="se">\</span>
--trust<span class="w"> </span><span class="si">${</span><span class="nv">ACCOUNT_RES</span><span class="si">}</span><span class="w"> </span>aws://<span class="si">${</span><span class="nv">ACCOUNT_INT</span><span class="si">}</span>/<span class="si">${</span><span class="nv">AWS_REGION</span><span class="si">}</span>
</code></pre></div>
<ol>
<li><strong>Prepare the PROD stage</strong>:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nv">CDK_QUALIFIER</span><span class="o">=</span><span class="k">$(</span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.config.cdkQualifier&#39;</span><span class="w"> </span>package.json<span class="k">)</span>
npx<span class="w"> </span>dotenv-cli<span class="w"> </span>--<span class="w"> </span>npm<span class="w"> </span>run<span class="w"> </span>cdk<span class="w"> </span>bootstrap<span class="w"> </span>--<span class="w"> </span>--profile<span class="w"> </span><span class="nv">$PROD_ACCOUNT_AWS_PROFILE</span><span class="w"> </span>--qualifier<span class="w"> </span><span class="si">${</span><span class="nv">CDK_QUALIFIER</span><span class="si">}</span><span class="w"> </span>--cloudformation-execution-policies<span class="w"> </span><span class="se">\</span>
arn:aws:iam::aws:policy/AdministratorAccess<span class="w"> </span><span class="se">\</span>
--trust<span class="w"> </span><span class="si">${</span><span class="nv">ACCOUNT_RES</span><span class="si">}</span><span class="w"> </span>aws://<span class="si">${</span><span class="nv">ACCOUNT_PROD</span><span class="si">}</span>/<span class="si">${</span><span class="nv">AWS_REGION</span><span class="si">}</span>
</code></pre></div>
<p><strong>Note</strong>: Update the variables in the command with your actual account IDs and AWS region.</p>
<h2 id="configure-gitignore">Configure .gitignore</h2>
<p>Ensure that the following lines are in your <code>.gitignore</code> file:</p>
<ul>
<li><code>.npmrc</code> (if you are using a private NPM repository)</li>
<li><code>.env</code></li>
</ul>
<h2 id="existing-cdk-project">Existing CDK project</h2>
<p>To set up the CI/CD pipeline in your existing AWS CDK project, follow these steps:</p>
<ol>
<li>Install the CDK CI/CD Wrapper pipeline package by running the following command:</li>
</ol>
<div class="highlight"><pre><span></span><code>npm<span class="w"> </span>i<span class="w"> </span>@cdklabs/cdk-cicd-wrapper<span class="w"> </span>@cdklabs/cdk-cicd-wrapper-cli
</code></pre></div>
<p><strong>Note</strong>: If the <code>@cdklabs</code> scope is not available from the public NPM registry, you will need to configure a <a href="../developer_guides/private_npm_registry.html">private NPM registry</a>.</p>
<ol>
<li>
<p>Open your entry file, typically located at <code>bin/&lt;your-main-file&gt;.ts</code> (where <code>your-main-file</code> is the name of your root project directory).</p>
</li>
<li>
<p>Include the <code>PipelineBlueprint.builder().synth(app)</code> statement in your entry file, like so:</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">cdk</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;aws-cdk-lib&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">PipelineBlueprint</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@cdklabs/cdk-cicd-wrapper&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">cdk</span><span class="p">.</span><span class="nx">App</span><span class="p">();</span>

<span class="nx">PipelineBlueprint</span><span class="p">.</span><span class="nx">builder</span><span class="p">().</span><span class="nx">synth</span><span class="p">(</span><span class="nx">app</span><span class="p">);</span>
</code></pre></div>
<p>This will deploy the CI/CD pipeline with its default configuration without deploying any stacks into the staging accounts.</p>
<ol>
<li><strong>Optional</strong>: If you want to include additional stacks in the CI/CD pipeline, modify your entry file as follows:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">cdk</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;aws-cdk-lib&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">PipelineBlueprint</span><span class="p">,</span><span class="w"> </span><span class="nx">GlobalResources</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@cdklabs/cdk-cicd-wrapper&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">cdk</span><span class="p">.</span><span class="nx">App</span><span class="p">();</span>

<span class="nx">PipelineBlueprint</span><span class="p">.</span><span class="nx">builder</span><span class="p">().</span><span class="nx">addStack</span><span class="p">({</span>
<span class="nx">provide</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">context</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="c1">// Create your stacks here</span>
<span class="w">   </span><span class="ow">new</span><span class="w"> </span><span class="nx">YourStack</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">scope</span><span class="p">,</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">context</span><span class="p">.</span><span class="nx">blueprintProps</span><span class="p">.</span><span class="nx">applicationName</span><span class="si">}</span><span class="sb">YourStack`</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">applicationName</span><span class="o">:</span><span class="w"> </span><span class="kt">context.blueprintProps.applicationName</span><span class="p">,</span>
<span class="w">      </span><span class="nx">stageName</span><span class="o">:</span><span class="w"> </span><span class="kt">context.stage</span><span class="p">,</span>
<span class="w">   </span><span class="p">});</span>
<span class="w">   </span><span class="ow">new</span><span class="w"> </span><span class="nx">YourOtherStack</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">scope</span><span class="p">,</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">context</span><span class="p">.</span><span class="nx">blueprintProps</span><span class="p">.</span><span class="nx">applicationName</span><span class="si">}</span><span class="sb">YourOtherStack`</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">applicationQualifier</span><span class="o">:</span><span class="w"> </span><span class="kt">context.blueprintProps.applicationQualifier</span><span class="p">,</span>
<span class="w">      </span><span class="nx">encryptionKey</span><span class="o">:</span><span class="w"> </span><span class="kt">context.get</span><span class="p">(</span><span class="nx">GlobalResources</span><span class="p">.</span><span class="nx">ENCRYPTION</span><span class="p">)</span><span class="o">!</span><span class="p">.</span><span class="nx">kmsKey</span><span class="p">,</span>
<span class="w">   </span><span class="p">});</span>
<span class="p">}}).</span><span class="nx">synth</span><span class="p">(</span><span class="nx">app</span><span class="p">);</span>
</code></pre></div>
<p><strong>Note</strong>: Refer to the <a href="../developer_guides/index.html">Developer Guide</a> for more information on the <code>PipelineBlueprint</code>.</p>
<ol>
<li>
<p>The CDK CI/CD Wrapper expects to have the <code>validate</code>, <code>lint</code>, <code>test</code>, <code>audit</code> scripts defined. If you are missing any of the <code>npm run</code> scripts (e.g., ), or want to use the provided CLI tool for one or more actions, you should add the following definitions to your <code>package.json</code> file:</p>
</li>
<li>
<ol>
<li>Adding cdk script (necessay when you run the <code>npm run cdk</code> and uses the local cdk version rather than the global one)
  <div class="highlight"><pre><span></span><code><span class="w"> </span>jq<span class="w"> </span>--arg<span class="w"> </span>key<span class="w"> </span><span class="s2">&quot;cdk&quot;</span><span class="w"> </span>--arg<span class="w"> </span>val<span class="w"> </span><span class="s2">&quot;npx aws-cdk@2.142.1&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span>package.json<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>.<span class="w"> </span>&gt;<span class="w"> </span>package.json.tmp<span class="p">;</span><span class="w"> </span>mv<span class="w"> </span>package.json.tmp<span class="w"> </span>package.json<span class="p">;</span>
</code></pre></div></li>
</ol>
</li>
<li>
<ol>
<li>Adding validate script
   <div class="highlight"><pre><span></span><code>jq<span class="w"> </span>--arg<span class="w"> </span>key<span class="w"> </span><span class="s2">&quot;validate&quot;</span><span class="w"> </span>--arg<span class="w"> </span>val<span class="w"> </span><span class="s2">&quot;cdk-cicd validate&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span>package.json<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>.<span class="w"> </span>&gt;<span class="w"> </span>package.json.tmp<span class="p">;</span><span class="w"> </span>mv<span class="w"> </span>package.json.tmp<span class="w"> </span>package.json<span class="p">;</span>
jq<span class="w"> </span>--arg<span class="w"> </span>key<span class="w"> </span><span class="s2">&quot;validate:fix&quot;</span><span class="w"> </span>--arg<span class="w"> </span>val<span class="w"> </span><span class="s2">&quot;cdk-cicd validate --fix&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span>package.json<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>.<span class="w"> </span>&gt;<span class="w"> </span>package.json.tmp<span class="p">;</span><span class="w"> </span>mv<span class="w"> </span>package.json.tmp<span class="w"> </span>package.json<span class="p">;</span>
</code></pre></div></li>
</ol>
</li>
<li>
<ol>
<li>Adding lint script, we recommend using eslint and you can initalise it
   <div class="highlight"><pre><span></span><code>npm<span class="w"> </span>init<span class="w"> </span>@eslint/config

jq<span class="w"> </span>--arg<span class="w"> </span>key<span class="w"> </span><span class="s2">&quot;lint&quot;</span><span class="w"> </span>--arg<span class="w"> </span>val<span class="w"> </span><span class="s2">&quot;eslint . --ext .ts --max-warnings 0&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span>package.json<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>.<span class="w"> </span>&gt;<span class="w"> </span>package.json.tmp<span class="p">;</span><span class="w"> </span>mv<span class="w"> </span>package.json.tmp<span class="w"> </span>package.json<span class="p">;</span>
jq<span class="w"> </span>--arg<span class="w"> </span>key<span class="w"> </span><span class="s2">&quot;lint:fix&quot;</span><span class="w"> </span>--arg<span class="w"> </span>val<span class="w"> </span><span class="s2">&quot;eslint . --ext .ts --fix&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span>package.json<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>.<span class="w"> </span>&gt;<span class="w"> </span>package.json.tmp<span class="p">;</span><span class="w"> </span>mv<span class="w"> </span>package.json.tmp<span class="w"> </span>package.json<span class="p">;</span>
</code></pre></div></li>
</ol>
</li>
<li>
<ol>
<li>Adding audit scripts
   <div class="highlight"><pre><span></span><code><span class="nx">npm</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="o">--</span><span class="nx">save</span><span class="w"> </span><span class="o">-</span><span class="nx">D</span><span class="w"> </span><span class="nx">concurrently</span>
<span class="nx">jq</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="s2">&quot;audit&quot;</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">val</span><span class="w"> </span><span class="s2">&quot;concurrently &#39;npm:audit:*(\!fix)&#39;&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">jq</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="p">;</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">;</span>
<span class="nx">jq</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="s2">&quot;audit:deps:nodejs&quot;</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">val</span><span class="w"> </span><span class="s2">&quot;cdk-cicd check-dependencies --npm&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">jq</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="p">;</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">;</span>
<span class="nx">jq</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="s2">&quot;audit:deps:python&quot;</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">val</span><span class="w"> </span><span class="s2">&quot;cdk-cicd check-dependencies --python&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">jq</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="p">;</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">;</span>
<span class="nx">jq</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="s2">&quot;audit:deps:security&quot;</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">val</span><span class="w"> </span><span class="s2">&quot;cdk-cicd security-scan --bandit --semgrep --shellcheck&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">jq</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="p">;</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">;</span>
<span class="nx">jq</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="s2">&quot;audit:license&quot;</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">val</span><span class="w"> </span><span class="s2">&quot;npm run license&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">jq</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="p">;</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">;</span>
<span class="nx">jq</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="s2">&quot;audit:fix:license&quot;</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">val</span><span class="w"> </span><span class="s2">&quot;npm run license:fix&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">jq</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="p">;</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">;</span>
<span class="nx">jq</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="s2">&quot;license&quot;</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">val</span><span class="w"> </span><span class="s2">&quot;cdk-cicd license&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">jq</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="p">;</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">;</span>
<span class="nx">jq</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="s2">&quot;license:fix&quot;</span><span class="w"> </span><span class="o">--</span><span class="nx">arg</span><span class="w"> </span><span class="nx">val</span><span class="w"> </span><span class="s2">&quot;cdk-cicd license --fix&quot;</span><span class="w"> </span><span class="s1">&#39;.scripts[$key] = $val&#39;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">jq</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="p">;</span><span class="w"> </span><span class="nx">mv</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">tmp</span><span class="w"> </span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">;</span>
</code></pre></div></li>
</ol>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="err">...</span>
<span class="w">  </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;audit:deps:nodejs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdk-cicd check-dependencies --npm&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;audit:deps:python&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdk-cicd check-dependencies --python&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;audit:fix:license&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm run license:fix&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;audit:license&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm run license&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;audit:scan:security&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdk-cicd security-scan --bandit --semgrep --shellcheck --ci&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;audit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npx concurrently &#39;npm:audit:*(!fix)&#39;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cdk&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npx aws-cdk@2.142.1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;license:fix&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdk-cicd license --fix&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;license&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdk-cicd license&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;lint:fix&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eslint . --ext .ts --fix&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;lint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eslint . --ext .ts --max-warnings 0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;test&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;jest&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;validate:fix&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdk-cicd validate --fix&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;validate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdk-cicd validate&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="err">...</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="err">...</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Note</strong>: If you are using <code>eslint</code> for linting, ensure that the configuration files are present or generate them with <code>npm init @eslint/config</code>.</p>
<ol>
<li>Before deploying, run the following commands to ensure your project is ready:</li>
</ol>
<div class="highlight"><pre><span></span><code>npm run validate:fix
npm run audit:fix:license
</code></pre></div>
<ul>
<li><code>npm run validate:fix</code> will create the required <code>package-verification.json</code> file for you.</li>
<li>
<p><code>npm run audit:fix:license</code> will generate a valid Notice file for you.</p>
</li>
<li>
<p>Deploy all the stacks by running the following command:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>npx<span class="w"> </span>dotenv-cli<span class="w"> </span>--<span class="w"> </span>npm<span class="w"> </span>run<span class="w"> </span>cdk<span class="w"> </span>deploy<span class="w"> </span>--<span class="w"> </span>--all<span class="w"> </span>--region<span class="w"> </span><span class="si">${</span><span class="nv">AWS_REGION</span><span class="si">}</span><span class="w"> </span>--profile<span class="w"> </span><span class="nv">$RES_ACCOUNT_AWS_PROFILE</span><span class="w"> </span>--qualifier<span class="w"> </span><span class="si">${</span><span class="nv">CDK_QUALIFIER</span><span class="si">}</span>
</code></pre></div>
<p>Once the command finishes, the following CDK Stacks will be deployed into your RES Account:</p>
<ul>
<li><strong>PipelineRepository</strong>: Responsible for either creating the CodeCommit repository  and setting up PullRequest automation for CodeGuru scanning and running a set of configured commands, or establishing the CodeStar connection between your AWS RES Account and the configured GitHub repository.</li>
<li><strong>SSMParameterStack</strong>: Responsible for creating parameters in the SSM Parameter Store, such as Account IDs.</li>
<li><strong>VPCStack</strong>: Responsible for enabling the running of the build stages of the pipeline in a VPC, with or without a proxy. By default, this stack is not created unless configured via <code>npx @cdklabs/cdk-cicd-wrapper-cli@latest configure</code>. Check <a href="../developer_guides/networking.html">here</a> for more information on possible configurations.</li>
<li><strong>EncryptionStack</strong>: Responsible for creating the KMS Key used to encrypt all created CloudWatch Log Groups.</li>
<li><strong>PipelineStack</strong>: Responsible for creating the CodeCommit Repository and the CodePipeline with all the CodeBuild Steps.</li>
</ul>
<h2 id="configuring-continuous-integration">Configuring Continuous Integration</h2>
<p>The CI/CD pipeline comes with a set of predefined steps for checking the correctness of your source code:</p>
<ul>
<li><code>npm ci ##  Downloads the NPM dependencies.</code></li>
<li><code>npm run validate ## Validates that the package-lock.json file has not been changed or corrupted.</code></li>
<li><code>npm run audit ## Validates that the third-party dependencies are free from any known CVEs.</code></li>
<li><code>npm run lint ## Checks source code linting.</code></li>
<li><code>npm run build ## Builds the source code.</code></li>
<li><code>npm run test ## Runs the included tests.</code></li>
<li><code>npm run cdk synth ## Synthesizes the CDK projects and runs the CDK NAG.</code></li>
</ul>
<p>If all steps are finished successfully, the Continuous Integration (CI) part is considered complete.</p>
<p><strong>Note</strong>: The steps described above can be <a href="../developer_guides/ci.html">modified and extended</a>. Additionally, any of the <code>npm run</code> steps can be disabled by changing the corresponding script definition to <code>true</code>. Use this approach only as a last resort.</p>
<p><strong>Note</strong>: A few <a href="../developer_guides/ci.html">additional steps</a> are executed before the <code>npm run validate</code> step for configuring NPM registries and HTTP proxies.</p>
<p><strong>Note</strong>: The same steps are executed as part of the AWS CodeCommit's PullRequest review process.</p>
<h2 id="deploy-changes-with-gitops">Deploy Changes with GitOps</h2>
<p>After the required infrastructure has been deployed, you can apply the GitOps practice to deploy changes.</p>
<h3 id="push-the-local-repository-to-remote-codecommit">Push the Local Repository to Remote (CodeCommit)</h3>
<p>If you are using CodeCommit, you need to configure the downstream of the repository for deployment. On your local machine, install the <code>git-remote-codecommit</code> package using the following command:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>git-remote-codecommit
</code></pre></div>
<p>Then, push your local repository to the remote CodeCommit repository:</p>
<div class="highlight"><pre><span></span><code><span class="nv">CURRENT_BRANCH</span><span class="o">=</span><span class="k">$(</span>git<span class="w"> </span>rev-parse<span class="w"> </span>--abbrev-ref<span class="w"> </span>HEAD<span class="k">)</span><span class="p">;</span>
git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>codecommit::<span class="si">${</span><span class="nv">AWS_REGION</span><span class="si">}</span>://<span class="si">${</span><span class="nv">RES_ACCOUNT_AWS_PROFILE</span><span class="si">}</span>@<span class="si">${</span><span class="nv">GIT_REPOSITORY</span><span class="si">}</span><span class="p">;</span>
git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s2">&quot;feat: init origin&quot;</span><span class="p">;</span>
git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span><span class="si">${</span><span class="nv">CURRENT_BRANCH</span><span class="si">}</span>:main
</code></pre></div>
<p><strong>Note</strong>: The default branch for the CI/CD pipeline can be <a href="../developer_guides/ci.html">configured</a>.</p>
<h3 id="push-the-local-repository-to-remote-github">Push the Local Repository to Remote (GitHub)</h3>
<p>If you are using GitHub, add the remote repository and push your local repository:</p>
<div class="highlight"><pre><span></span><code><span class="nv">CURRENT_BRANCH</span><span class="o">=</span><span class="k">$(</span>git<span class="w"> </span>rev-parse<span class="w"> </span>--abbrev-ref<span class="w"> </span>HEAD<span class="k">)</span><span class="p">;</span>
git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>git@github:<span class="si">${</span><span class="nv">GIT_REPOSITORY</span><span class="si">}</span>.git<span class="p">;</span>
git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s2">&quot;feat: init origin&quot;</span><span class="p">;</span>
git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span><span class="si">${</span><span class="nv">CURRENT_BRANCH</span><span class="si">}</span>:main
</code></pre></div>
<p><strong>Note</strong>: The <code>origin</code> remote alias might already be configured, in which case you need to change or replace it.</p>
<p><strong>Note</strong>: The default branch for the CI/CD pipeline can be <a href="../developer_guides/ci.html">configured</a>.</p>
<p>By following these steps, you have successfully set up and configured the CI/CD pipeline for your AWS CDK project. Your project will now be automatically built, tested, and deployed to the appropriate stages whenever changes are pushed to the remote repository.</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    2024-06-27
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Amazon Web Services, Inc. or its affiliates.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://aws.amazon.com" target="_blank" rel="noopener" title="Amazon Web Services, Inc." class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M180.41 203.01c-.72 22.65 10.6 32.68 10.88 39.05a8.16 8.16 0 0 1-4.1 6.27l-12.8 8.96a10.66 10.66 0 0 1-5.63 1.92c-.43-.02-8.19 1.83-20.48-25.61a78.6 78.6 0 0 1-62.61 29.45c-16.28.89-60.4-9.24-58.13-56.21-1.59-38.28 34.06-62.06 70.93-60.05 7.1.02 21.6.37 46.99 6.27v-15.62c2.69-26.46-14.7-46.99-44.81-43.91-2.4.01-19.4-.5-45.84 10.11-7.36 3.38-8.3 2.82-10.75 2.82-7.41 0-4.36-21.48-2.94-24.2 5.21-6.4 35.86-18.35 65.94-18.18a76.86 76.86 0 0 1 55.69 17.28 70.29 70.29 0 0 1 17.67 52.36zM93.99 235.4c32.43-.47 46.16-19.97 49.29-30.47 2.46-10.05 2.05-16.41 2.05-27.4-9.67-2.32-23.59-4.85-39.56-4.87-15.15-1.14-42.82 5.63-41.74 32.26-1.24 16.79 11.12 31.4 29.96 30.48m170.92 23.05c-7.86.72-11.52-4.86-12.68-10.37l-49.8-164.65c-.97-2.78-1.61-5.65-1.92-8.58a4.61 4.61 0 0 1 3.86-5.25c.24-.04-2.13 0 22.25 0 8.78-.88 11.64 6.03 12.55 10.37l35.72 140.83 33.16-140.83c.53-3.22 2.94-11.07 12.8-10.24h17.16c2.17-.18 11.11-.5 12.68 10.37l33.42 142.63L420.98 80.1c.48-2.18 2.72-11.37 12.68-10.37h19.72c.85-.13 6.15-.81 5.25 8.58-.43 1.85 3.41-10.66-52.75 169.9-1.15 5.51-4.82 11.09-12.68 10.37h-18.69c-10.94 1.15-12.51-9.66-12.68-10.75L328.67 110.7l-32.78 136.99c-.16 1.09-1.73 11.9-12.68 10.75h-18.3zm273.48 5.63c-5.88.01-33.92-.3-57.36-12.29a12.8 12.8 0 0 1-7.81-11.91v-10.75c0-8.45 6.2-6.9 8.83-5.89 10.04 4.06 16.48 7.14 28.81 9.6 36.65 7.53 52.77-2.3 56.72-4.48 13.15-7.81 14.19-25.68 5.25-34.95-10.48-8.79-15.48-9.12-53.13-21-4.64-1.29-43.7-13.61-43.79-52.36-.61-28.24 25.05-56.18 69.52-55.95 12.67-.01 46.43 4.13 55.57 15.62 1.35 2.09 2.02 4.55 1.92 7.04v10.11c0 4.44-1.62 6.66-4.87 6.66-7.71-.86-21.39-11.17-49.16-10.75-6.89-.36-39.89.91-38.41 24.97-.43 18.96 26.61 26.07 29.7 26.89 36.46 10.97 48.65 12.79 63.12 29.58 17.14 22.25 7.9 48.3 4.35 55.44-19.08 37.49-68.42 34.44-69.26 34.42m40.2 104.86c-70.03 51.72-171.69 79.25-258.49 79.25A469.13 469.13 0 0 1 2.83 327.46c-6.53-5.89-.77-13.96 7.17-9.47a637.37 637.37 0 0 0 316.88 84.12 630.2 630.2 0 0 0 241.59-49.55c11.78-5 21.77 7.8 10.12 16.38m29.19-33.29c-8.96-11.52-59.28-5.38-81.81-2.69-6.79.77-7.94-5.12-1.79-9.47 40.07-28.17 105.88-20.1 113.44-10.63 7.55 9.47-2.05 75.41-39.56 106.91-5.76 4.87-11.27 2.3-8.71-4.1 8.44-21.25 27.39-68.49 18.43-80.02"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "toc.follow", "navigation.indexes", "navigation.instant", "navigation.tabs"], "search": "../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>